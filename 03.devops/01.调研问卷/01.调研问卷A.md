# 调研问卷

以调研问卷为基础，结合深度访谈、研讨等过程。

## 一、敏捷开发管理

需求过程、组织结构与协作模式、敏捷管理实践、敏捷工程实践和敏捷研发管理工具。

1. 需求调整
   - 在项目启动前收集并确认所有需求
   - 在项目启动前只收集高层次需求用于设计和规划
   - 在项目初期收集高层次需求，后期在交流中逐步细化需求
   - 项目持续收集需求，并细化需求，项目过程中可以定期调整需求顺序和置换需求
   - 项目全程随时可以调整需求顺序和置换需求，并实现全过程可视化管理

1. 实体化敏捷团队比例
   - 具有实体化敏捷团队，团队内分工协作，多团队协同交付业务价值
   - 具有敏捷全功能团队，在大规模、分布式场景下也可以独立交付业务价值
   - 在上述基础上可以独立、快速交付更多业务价值，且团队构成及人员能力持续优化
   - 通过职能型团队或虚拟团队实现项目开发协作与管理
   - 不知道

1. 敏捷开发实践程度调查
    - 部分团队
    - \>50%团队
    - 全部团队

1. 敏捷管理实践
   - 发布计划
   - 看板/任务板
   - 每日站会
   - Sprint 迭代
   - 迭代回顾会议
   - 用户故事
   - 全功能团队
   - 产品路线图
   - 计划扑克/团队估算
   - 用户故事地图/影响地图
   - 精益用户体验设计(Lean UX)

1. 敏捷管理理论的培训或实践
   - Scrum
   - Kanban
   - SAFe
   - Leading Agile
   - LeSS
   - DAD

1. 工作项管理系统情况
   - 变更管理过程不清晰
   - 所有代码变更均关联工作项
   - 建立代码基线，有统一的工作项管理
   - 使用统一的工作项管理系统并贯穿软件全生命周期
   - 支持可视化变更生命周期和全程数据分析管理

## 二、持续交付

持续交付部分由版本控制、制品管理、 变更管理、构建、持续集成、自动化测试、部署管理、流水线、持续交付工具 等方面组成。

1. 工程实践
   - 持续集成
   - 自动构建
   - 单元测试
   - 持续部署
   - 持续发布
   - 代码重构
   - 自动化验收测试
   - 测试驱动开发（TDD）
   - 探索性测试
   - ATDD/BDD/实例化需求
   - 结对编程

1. 版本控制系统使用状况
   - 未使用版本控制系统
   - 源代码分散在本地自行管理
   - 部分使用版本控制系统
   - 使用同一的版本控制系统，全部源代码均纳入版本控制系统管理
   - 源代码、应用配置、构建和部署自动化脚本均纳入版本控制系统
   - 源代码、应用配置、构建和部署自动化脚本、数据变更脚本(DDL、DML)、环境配置等均纳入版本控制系统
   - 将软件生命周期的所有配置型纳入版本控制，可完整回溯软件交付过程满足审计要求

1. 版本控制系统统一管理
   - 源代码
   - 应用配置
   - 构建和部署自动化脚本
   - 数据变更脚本(DDL、DML)
   - 环境配置

1. 构建产物纳入制品库管理情况
   - 将构建产物分散在研发本地自行管理
   - 将构建产物、构建依赖组件等所有交付制品纳入制品库进行管理
   - 将所有交付制品纳入制品库进行管理，且实现制品晋级管理
   - 将构建产物以唯一版本号纳入统一制品库进行规范化管理
   - 将所有交付制品纳入制品库，实现制品晋级管理，且具备完善的开源合规的制品管理

1. 构建方式
   - 手工方式构建
   - 使用脚本实现构建自动化，构建周期明显缩短
   - 构建脚本由专人专岗统一维护，并实现简单工具化
   - 支持以Web形式或其他方式进行自动构建，有构建缓存机制
   - 支持多种构建方式，持续优化构建服务平台，持续改进服务易用性

1. 构建频率
   - 不定期执行构建
   - 每日自动构建
   - 代码提交自动触发构建
   - 代码提交自动触发构建，且按需制定构建计划，团队可自定义调整
   - 代码提交自动触发构建，不同分支的代码构建频率根据团队需要自定义调整

1. 持续集成平台自服务化及助力组织级交付能力提升情况
   - 没有统一的持续集成系统
   - 有统一的持续集成系统
   - 有专门的持续集成团队负责维护持续集成系统
   - 实现了持续集成平台自服务化
   - 实现了组织级交付能力提升，能够持续优化和改进团队的持续集成服务

1. 每日多次向代码主干集成情况
   - 长期本地开发代码，集成频率几周或者几月一次
   - 集成频率几天一次，采用定期统一集成的策略
   - 每天多次向代码主干集成，可按需集成
   - 任何变更(代码，配置，环境)都会触发完整的持续集成流程
   - 每天至少一次向代码主干集成。

1. 集成问题修复情况
   - 没有专门修复持续集成问题的机制
   - 在 1 天内修复持续集成问题
   - 在半天到 1 天内修复持续集成问题
   - 在半天内完成修复
   - 在半小时内完成修复
   - 在 10 分钟内完成修

1. 测试
   - 实现代码扫描测试(自动化)
   - 实现单元测试(自动化)
   - 实现接口测试(自动化)
   - 实现开发自测(自动化)
   - 实现冒烟测试(自动化)
   - 实现性能测试(自动化)
   - 回归测试(自动化)
   - UI测试(自动化)
   - 安全性测试(自动化)
   - UAT（用户验收测试）
   - 稳定性测试
   - SIT（系统集成测试）
   - 可靠性测试
   - 可用性测试
   - 兼容性测试
   - 全链路测试
   - 模糊测试
   - 混沌测试

1. 测试左移状况
   - 测试在代码全部开发完成后才介入，以手工测试为主
   - 接口/服务级测试在接口开发完成后进行
   - 以单元测试为主，接口/服务级测试覆盖率高
   - 测试在开发前介入，代码级和接口/服务级测试均在代码开发时同步进行
   - 在需求阶段进行用户/业务级测试设计，并在开发过程中同 步完成用户/业务级测试

1. 虚拟机和容器使用情况
   - 使用物理机
   - 使用 Serverless
   - 使用虚拟机
   - 使用容器

1. 部署发布自服务化
   - 手工完成所有环境的部署
   - 部分部署过程自动化
   - 支持部署和发布实现全自动化，测试环境与生产环境的部署工具及过程一致
   - 部署发布自服务化，实现开发人员自助一键式部署
   - 在部署发布自服务化基础上持续优化部署发布模式和工具系统平台

1. 各环节流水线使用情况
   - 持续交付过程没有流水线，大量手工操作
   - 构建、部署、测试环节已经实现自动化，但无流水线串联
   - 流水线中包括自动化构建、部署、测试等环节
   - 流水线可以直通生产环境
   - 实现了智能调度，并持续优化

1. 变更前置时间(从代码被提交到成功运行在生产环境所需时间)
   - 变更前置时间为 1 天到 1 周
   - 变更前置时间需要 1 小时到 1 天
   - 变更前置时间小于 1 小时

1. 部署频率(团队部署代码到生产环境的频率)
   - 大于 6 个月
   - 3 个月到 6 个月
   - 1 个月到 3 个月
   - 2 周到 1 个月
   - 1 到 2 周
   - 1 天到 1 周
   - 1 小时到 1 天
   - 小于 1 小时

## 三、技术运营

稳定、安全、可靠为目标的 IT 运维发展成为以体验、效率、效益为目标的技术运营。
通过监控管理、事件与变更管理、配置管理、容量与成本管理、高可用管理、业务连续性管理、用户体验管理几方面对技术运营实践现状进行了解。

1. 监控管理
   - 有基础的监控，能满足对系统级（CPU等）的监控需求
   - 覆盖系统、应用与接口日志监控，具有告警度量、告警收敛与监控数据关联分析能力
   - 具有全生命周期的监控体系，可实现常见故障自愈
   - 监控管理实现阈值动态调整等初步智能化，全网数据秒级上报，可实现自动化决策
   - 实现智能决策、推荐等高度智能化

1. 监控数据采集管理
   - 没有监控
   - 分散的监控数据采集、存储及应用，例如：使用 Zabbix、Prometheus 等
   - 具备统一的标准化的监控数据采集、存储及应用，例如：使用统一的数据采集 Agent 与监控数据库等
   - 具备监控大数据的基础运维能力，例如：实时数据采集，冷/热数据的优化处理等
   - 业具备数据采集传输频率、质量和安全的保障机制，例如：多对象多事件关联分析能力
   - 具备智能化技术分析运维全生命周期数据，例如：根因分析、告警收敛

1. 事件与变更管理能力建设
   - 具有基本的事件规范和变更操作要求，可及时处理事件和管控部分变更风险
   - 有完善的事件与变更管理流程，与其它技术运营或系统平台体系打通，具有平台化与可视化能力
   - 具有覆盖全生命周期的事件与变更管理能力，流程与场景部分实现自动化和可视化
   - 实现深度规范化，部分场景实现智能化技术应用
   - 实现大部分场景的智能化支撑，具备无人化、自愈和自改进能力

1. 自动化配置管理系统/平台
   - 依靠人工保障配置记录的管理
   - 业具备统一的配置管理系统，全生命周期的管理技术运营相关的对象，有规则和流程支持配置变更
   - 具有自动化配置管理平台，支持自动发现、灵活扩展和关联分析
   - 具备智能识别配置对象的关联关系，配置信息能为技术运营活动提供决策支持
   - 具备智能化配置管理，支持场景智能生成配置对象的关联规则和提供准确的决策依据

1. 容量和成本管理的关联分析、柔性服务及灵活管控能力
   - 具备基础预算、基础设施容量监控与业务的指标汇聚能力
   - 具有技术运营全生命周期的容量和成本管理，有规则和流程支持
   - 具备业务容量与基础设施容量关联分析能力、柔性服务能力，灵活成本管控的能力
   - 支持全链路的容量管理能力，为技术和架构提供支持
   - 支持智能化管理容量与成本

1. 自动化扩缩容的高可用管理
   - 具有流量、硬件、数据库备份等系统架构或应用的主备切换能力
   - 具有应用服务间调用关系治理平台、IT 系统有效打通，故障定位快、数据库读写分离，主备实施同步，同城多机房备份
   - 能够结合监控自动扩容缩容，系统拓扑结构自动梳理
   - 能够自动化动态扩容，采用分布式缓存、分表分库等技术，同城多机房实时数据备份，异地数据备份
   - 实现全面自动化和智能化的高可用管理，并持续改进

1. RTO:恢复时间目标 Recovery Time Object
   - 整体 RTO 达到 99.9%
   - 整体 RTO 达到 99.95%
   - 整体 RTO 达到 99.99%
   - 整体 RTO 达到 99.995%

1. 业务连续性管理能力
   - 具有基础的业务影响分析与业务风险分析能力，有基本的应急演练，故障恢复时间较长
   - 实现至少半年进行一次灾备演练，具有详尽的应急响应预案，包括外部舆情和客服等，30 分钟完成问题解决
   - 主动模拟注入故障并快速定位和解决，2 分钟响应，5 分钟定位并启动预案，10 分钟完成问题解决
   - 应急和危机处理组织结构完备，对故障基本能通过告警主动发现，1 分钟响应，3 分钟定位并启动预案，5 分钟完成问题解决
   - 引入更多智能化技术，3 分钟内完成问题解决

1. 处理用户体验的投诉问题
   - 处于快速处理用户体验的投诉问题阶段，具备丰富的业务端数据收集能力
   - 具有端到端全链路事件埋点，实现全链路告警，提升部分场景的用户体验
   - 业具有自动跟踪及用户改善工具，5 分钟内发现质量数据异常
   - 界定区分用户群体及单用户行为轨迹的完整链条的体验表现，触达运营指标，如回流用户转化率等
   - 引入 AI 技术，建立业务领域级别的用户体验类知识图谱或专家系统

## 四、应用设计

横向支撑域，为了支撑敏捷开发管理、持续交付、技术运营等过程目标的实现。
从应用架构设计、应用接口管理规范、应用可伸缩性、应用故 障处理、应用性能管理等方面进行调查。

1. 微服务框架
   - Spring Boot
   - Spring Cloud
   - 阿里Dubbo
   - 华为云微服务引擎CSE
   - .NET Core
   - Envoy
   - Apache ServiceComb
   - 蚂蚁SOFAStack
   - 腾讯Tars
   - Eclipse Vert.x
   - 腾讯 TSF

1. 云原生微服务
   - Quarkus

1. 服务网格架构
   - Istio
   - Linkerd

1. 无服务架构
   - Knative
   - Dapr

1. 单体应用架构
   - 插件架构
   - 单进程架构

1. 面向服务架构
   - SOA

1. 应用架构设计
   - 应用架构采用巨石架构，所有功能归于一个模块
   - 按经验简单拆分成若干可独立开发和编译的功能模块，各模块可独立开发和编译
   - 应用架构由专业人士进行设计和模块拆分，各模块可以通过本地进程间通信独立部署
   - 应用架构由专人设计，对设计质量有明确的度量流程，各模块通过网络进行通信，独立部署和运行
   - 应用架构由专人设计，系统复杂度能够降到最低，对应用架构拆分情况形成持续反馈与改进

1. 应用接口管理规范与统一的接口开发与管理平台
   - 无接口规范与流程
   - 有接口规范和管理流程，无明确管理流程，未强制实施
   - 有接口规范和管理流程，强制实施
   - 有接口规范和管理流程，使用统一的接口开发和查询平台
   - 有接口规范和管理流程，使用统一的接口开发与管理平台，并实现各个模块自动注册接口相关信息、自动校验

1. 应用的自动伸缩
   - 无伸缩策略，不支持伸缩
   - 手动操作应用部署系统，实 现应用的伸缩
   - 手动修改应用部署配置，系统实现应用的自动伸缩
   - 根据应用系统的部分特征指标自动生成伸缩策略，采用自动化方式进行扩缩容
   - 具备多维度自动伸缩策略，采用自动化方式按需进行伸缩

1. 应用故障修复能力建设
   - 无统一日志规范，系统运行状态无法获取，无故障处理能力
   - 有统一日志规范，人工分析系统运行状态，应用独自提供故障处理能力
   - 有统一日志规范，统一故障修复平台，利用工具辅助分析故障
   - 应用日志支持全链路追踪，单个应用系统可自动处理部分故障
   - 应用日志支持图形化展示全链路追踪信息，实现自动预警、故障定位和故障自动修复

1. 整体应用性能管理的优化设计
   - 无统一规范，各模块自行处理性能问题
   - 针对部分典型的应用性能问题进行了设计和处理
   - 对整体应用性能进行了系统化的、全方位的设计
   - 支持性能循环管理，建立了制度化性能设计流程
   - 建立了完善的性能设计流程，且性能指标支持自动化实时分析

## 五、安全及风险管理（DevSecOps）

将安全融入 DevOps 每个阶段过程，开发、安全、运营各部门紧密合作，在安全风险可控的前提下，帮助企业提升 IT 效能。

1. 是否引入 DevSecOps

1. 安全能力建设
   - 没有专业的安全团队
   - 没有专业的安全团队，但有专职的安全管理团队及技术人员
   - 有专门的安全管理团队与安全主管
   - 有高级别的安全管理组织及不同方向的安全专家团队
   - 有安全专家团队对行业具有突出贡献与较大业界影响力

1. 安全建设关注点
   - 代码安全性
   - 安全测试与漏洞扫描
   - 第三方开源库的安全性
   - 设计是否符合安全标准和规范
   - 数据安全
   - 需求是否包括安全相关需求
   - 安全监控
   - 外部威胁与攻击
   - 个人信息保护
   - 第三方合作机构与人员的安全性
   - 运行环境安全
   - 自动化安全工具的效率
   - 移动(app)安全
   - 云原生的安全

1. 自动化安全测试向全流程覆盖
   - 代码开发阶段
   - 构建与集成阶段
   - QA/测试阶段
   - 需求与应用架构设计阶段
   - 部署阶段
   - 运维阶段
   - 预生产及发布阶段
   - 下线阶段

1. DevSecOps 实践
   - 源代码静态安全检测(SAST)
   - 容器镜像安全扫描
   - Web 应用防火墙（WAF）
   - 安全加固
   - 代码依赖扫描(SCA)
   - IDE 安全插件
   - 安全监控
   - License 合规性检测
   - 动态应用安全测试（DAST）
   - 交互式应用安全测试（IAST）
   - 验证阶段：移动应用安全测试（MAST）
   - 软件签名验证阶段：渗透测试（PT）
   - 移动APP加固
   - 主机安全扫描
   - 运行时应用自我保护
   - 运行阶段：威胁情报
   - 资产风险管理
   - 威胁建模

1. 数据安全
   - 无数据安全风险管理
   - 具有数据安全管理要求，对数据进行分类分级，对数据具有安全管控机制
   - 具有完善的数据安全管理要求及流程，对数据进行全生命周期安全管理，并具备自动化的数据安全管理工具
   - 业能自动化识别并处置数据使用 过程中的风险，具备数据流转的自动化追踪和溯源能力
   - 具备智能化数据安全风险管理能力，实现对数据安全风险的态势感知，实现数据安全风险的智能化预测和处置

1. 软件开发过程中进行安全需求管理
   - 无安全管理
   - 进行安全需求分析及安全设计评审，并按照安全编码规范进行安全编码
   - 业具有完善的威胁建模分析方法，通过 IDE 插件等方式对源代码及开源组件进行提交前安全检测
   - 对安全需求进行自动化管理，具有标准化的威胁建模方法和工具及标准化安全功能组件
   - 具备智能化能力，如安全需求自动化验证、智能化威胁建模及编码工具智能化识别安全问题等

1. 安全扫描与测试工具链
   - 无安全管理
   - 对源代码、依赖组件及配置等进行安全管理，采用主流工具进行安全测试
   - 具备完善的安全测试工具链，并部分集成到流水线，安全测试结果进行自动化展示
   - CI/CD 流水线中自动化集成较完善的安全测试工具，具备集中的漏洞管理平台
   - 将安全管理纳入研发交付全过程，并具备智能化的全过程安全交付平台

1. 安全运营监控平台建设
   - 无安全管理
   - 具有安全监控及告警管理平台，定期进行安全扫描和漏洞修复
   - 具有安全运营平台(SOC)，具备完善的情报监测、威胁发现、告警及应急响应流程
   - 业具有智能化安全态势感知平台，具备应用资产画像、漏洞自动化发现与修复能力
   - 具备智能化运营安全风险管控平台，对运营过程风险智能化感知、决策和处置等

## 六、系统和工具

1. DevOps 工具选择
   - 功能的易用性
   - 工具自身的安全性
   - 工具自动化程度
   - 是否可以进行二次开发
   - 功能的丰富性
   - 是否开源
   - 和其他工具平台的集成度
   - 可定制化
   - 产品/服务价格
   - DevOps 工具商知名度
   - 是否提供私有部署形态使用
   - 是否以公有云服务形态（SaaS）使用

1. 云化
   - 混合云
   - 私有云
   - 公有云

1. 工具选型
   - 自研并采用开源工具并进行二次开发的一体化平台
   - 华为云 DevCloud
   - 阿里云效
   - 中兴 RDCloud
   - 微软 TFS/Azure DevOps
   - 亚马逊AWS DevOps工具
   - 腾讯蓝鲸
   - 腾讯 Coding
   - 中国电信研发云平台
   - 百度效率云
   - 京东云翼

1. 完整工具链
   - 需求和项目管理工具（JIRA、禅道、TAPD、Trello、Teambition、Clubhouse）
   - 协作工具（微信、钉钉、企业微信、飞书）
   - 文档、知识库工具（Confluence、中兴iCenter、PingCode Wiki、Notion、Thoughts）
   - 代码管理：GitLab、Gerrit、Github、SVN、码云 Gitee、腾讯工蜂 TGit、Bitbucket、Perforce Helix Core
   - 制品库：Nexus、JFrog Artifactory
   - Java 构建：Maven、Gradle
   - Web 构建：NPM
   - 持续集成与流水线：Jenkins、Gitlab CI、Travis CI、Bamboo
   - 代码质量：SonarQube、Coverity、Klockwork、Fortify、QAC
   - 测试工具：Mmeter、Selenium、Robot Framework、Appium、TestLink、Cucumber、Robotium
   - 自动化部署与配置工具：Ansible、SaltStack、PUppet、Chef
   - 容器引擎：Docker
   - 安全容器：Kata Container
   - 容器编排：Kubernetes、Docker Swarm、Apache Mesos、Docker Compose
   - 容器管理：Rancher、KubeSphere、Rainbond
   - 自动化运维：Elastic、Zabbix、Grafana、Logstash、Prometheus、Ansible，AIOps工具、Nagios、SaltStack、Pupuet、Cacti、Zenoss、Chef
   - 威胁建模：Microsoft Threat Modeling Tool、Threat Modeler、Threat Dragon
   - 代码安全：Coverity、Fortify、Cppcheck、Appscan Source、Find Security Bugs、Checkmarx、Cobra、Bandit
   - 容器安全：Clair、Twistlock、AquaSec
   - Web 安全： AppScan、Webinspect、SQLmap、Burp Suite、Acunetix Web Vulnerablity Scanner、OWASP ZAP、Matasploit、Nikto、Arachni
   - IAST：悬镜、Contrast security、默安、Seeker
   - 主机安全：绿盟、Nessus、Nmap、Qualys、OpenVas、Digital Guardian、Baiblx
   - 安全配置基线：CIS Benchmarks
   - 开源软件安全：GitLab、Black Duck、Whitesource、OWASP Dependency-Check、Snyk、FOSSA
   - NTA：Zeek、Snort、Suricata
   - 威胁情报：奇安信、微步在线
   - SOC/SIEM：OSSIM、AlienVault、IBM QRadar、LogRhythm、ArcSight

## 七、DevOps 转型

1. DevOps 转型成功与否的主要依据
   - 研发效率的提升
   - 产品质量
   - 按时交付（项目可见性）
   - 客户/用户满意度
   - 交付的业务价值
   - 团队满意度

1. DevOps 转型现状
   - 无法判断所在组织的 DevOps 实践是否成功
   - 组织的 DevOps 实践是不成功的
   - 进行了 DevOps 转型且认为所在组织的 DevOps 实践是成功的

1. 赋能 DevOps 转型
   - 公司内部引入培训、咨询辅导等专业服务的方式推动转型
   - 获得公司高层重视，自上而下全面推动 DevOps 转型
   - 在个别团队先行试点，成功后将经验推广到其他团队实现 DevOps 转型
   - 成立转型小组，统一负责敏捷及 DevOps 方法、工具的发展与推广
   - 引入 DevOps 标准评估加速转型
   - 由基层员工引入，自下而上逐步导入 DevOps
   - 没有进行敏捷及 DevOps 转型

1. DevOps 实践/转型存在的问题和挑战
   - 项目团队工作繁重，没有时间进行 DevOps 改进
   - 缺少具备 DevOps 经验的专家，导致推进缓慢无从下手
   - 组织内 DevOps 工具能力较弱，不稳定
   - 自动化测试能力欠缺，软件质量问题多，开发和测试之间分歧多
   - 组织不清楚 DevOps 的路线图以及如何进行转型
   - 缺乏管理成的支持
   - 组织内团队情况区别较大，无法复用推广
   - 团队规模过大，周边依赖较多，架构耦合
   - 员工还不理解 DevOps 的概念
   - 试点项目效果不明显或者转型失败
   - 组织行业的限制，比如金融行业

1. 度量体系建设
   - 没有定义度量指标，未形成跨组织领域及自我驱动改进的度量体系
   - 在整个开发生命周期的各个阶段均定义了度量指标，但度量指标仅限于部门内部
   - 整个团队共享核心业务度量指标，建立基于能力成熟度模型的完整度量体系
   - 建立跨组织度量指标，进行跨领域综合维度的度量
   - 持续优化的度量指标，团队自我驱动持续改进

1. 未来 DevOps 投入的趋势
   - 已经对 DevOps 工具进行二次开发，计划形成 DevOps 工具链
   - 已经引入 DevOps 工具，计划进行二次开发
   - 计划引入 DevOps 专业工具和服务
   - 计划对技术人员进行 DevOps 相关培训
   - 计划保持现状，使用已有的工具和服务继续 DevOps 实践
   - 不准备 引入 DevOps

1. 企业对政策/资质的需求
   - DevOps 能力成熟度评估
   - CMMI 认证
   - ISO 体系认证
   - 中国信通院开展的金牌运维评估

## 参考资料

1. 《中国 DevOps 现状调查报告 2021 年）》
